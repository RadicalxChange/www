---
layout: layouts/html.njk
title: Team
headerText: Team
---

<!-- prettier-ignore -->
{% import "components/modal.njk" as modal %}

<div class="flex flex-col justify-between h-full bg-golden-fizz">
  <!-- prettier-ignore -->
  {% for category in team %}
  <h1 class="my-base lg:my-lg/base text-3xl lg:text-lg/3xl">
    {{ category.name }}
  </h1>
  <div
    class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-base lg:gap-lg/lg col-gap-base lg:col-gap-lg/lg mb-base lg:mb-lg/lg overflow-hidden"
  >
    <!-- prettier-ignore -->
    {% for person in category.items %}
    <!-- prettier-ignore -->
    <div {{ "data-team-member-declare" if person.bio }}>
      <!-- prettier-ignore -->
      <div
        class="team_image {{ 'cursor-pointer' if person.bio }}"
        style="background-image: linear-gradient(black, black), url('/images/team/{{ person.image }}');"
        {{ 'data-team-member-image' if person.bio }}
        {{ 'data-modal-trigger=bio' if person.bio }}
      ></div>
      <div
        class="px-sm lg:px-lg/base py-sm lg:py-lg/base bg-white"
      >
        <h4
          class="text-sm lg:text-lg/sm leading-tight"
          {{ 'data-team-member-name' if person.bio }}
        >
          {{ person.name }}
        </h4>
        <!-- prettier-ignore -->
        {% if person.title %}
        <p
        class="mt-xs lg:mt-lg/xs text-xs lg:text-lg/xs leading-tight"
          {{ 'data-team-member-title' if person.bio }}
        >{{ person.title }}</p
        >
        <!-- prettier-ignore -->
        {% endif %}
        <!-- prettier-ignore -->
        {% if person.website or person.twitter or person.linkedin or person.facebook %}
        <ul class="flex mt-xs lg:mt-lg/sm">
          <!-- prettier-ignore -->
          {% if person.website %}
          <li class="mr-sm lg:mr-lg/sm">
            <a href="{{ person.website }}"
              ><img class="team_social-icon" src="/images/ui/icon-link.svg" />
            </a>
          </li>
          <!-- prettier-ignore -->
          {% endif %}
          <!-- prettier-ignore -->
          {% if person.twitter %}
          <li class="mr-sm lg:mr-lg/sm">
            <a href="{{ person.twitter }}"
              ><img class="team_social-icon" src="/images/ui/icon-twitter.svg"
            /></a>
          </li>
          <!-- prettier-ignore -->
          {% endif %}
          <!-- prettier-ignore -->
          {% if person.linkedin %}
          <li class="mr-sm lg:mr-lg/sm">
            <a href="{{ person.linkedin }}"
              ><img class="team_social-icon" src="/images/ui/icon-linkedin.svg"
            /></a>
          </li>
          <!-- prettier-ignore -->
          {% endif %}
          <!-- prettier-ignore -->
          {% if person.facebook %}
          <li class="mr-sm lg:mr-lg/sm">
            <a href="{{ person.facebook }}"
              ><img class="team_social-icon" src="/images/ui/icon-facebook.svg"
            /></a>
          </li>
          <!-- prettier-ignore -->
          {% endif %}
        </ul>
        <!-- prettier-ignore -->
        {% endif %}
      </div>
      <!-- prettier-ignore -->
      {% if person.bio %}
      <div class="hidden" data-team-member-bio>{{ person.bio | markdown | safe }}</div>
      <!-- prettier-ignore -->
      {% endif %}
    </div>
    <!-- prettier-ignore -->
    {% endfor %}
  </div>
  <!-- prettier-ignore -->
  {% endfor %}
</div>
<!-- prettier-ignore -->
{% call modal.render('bio') %}
<div class="team-bio-modal_container">
  <div
    class="team-bio-modal_picture"
  >
    <img class="self-center mb-base lg:mb-lg/base" data-bio-picture />
    <div>
      <p class="text-center" data-bio-name></p>
      <p class="text-center text-sm lg:text-lg/sm" data-bio-title></p>
    </div>
  </div>
  <div
    class="team-bio-modal_content md-container"
    data-bio-content
  ></div>
</div>
<!-- prettier-ignore -->
{% endcall %}
<script>
  // Extract url from text like:
  // background-image: linear-gradient(black, black),
  //     url('https://www.radicalxchange.org/wp-content/uploads/2020/02/DOMINGUES_JULIANA.jpg');
  function extractUrl(str) {
    const matches = /url\((['"]?)(.*)\1\)$/.exec(str);
    return matches[2];
  }

  $("[data-team-member-declare]").each(function () {
    const root = $(this);
    root.find("[data-team-member-image]").click(function (event) {
      event.preventDefault();

      const picture = extractUrl(root.find("[data-team-member-image]").css("background-image"));
      $("[data-bio-picture]").attr("src", picture);

      const name = root.find("[data-team-member-name]").text();
      $("[data-bio-name]").text(name);

      let title = "";
      const maybeTitle = root.find("[data-team-member-title]");
      if (maybeTitle.length) {
        title = maybeTitle.text();
      }
      $("[data-bio-title]").text(title);

      const bio = root.find("[data-team-member-bio]").contents().clone();
      const contentElement = $("[data-bio-content]");
      contentElement.empty();
      contentElement.append(bio);
    });
  });
</script>
