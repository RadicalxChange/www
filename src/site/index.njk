---
layout: layouts/_base.njk
---

<!-- prettier-ignore -->
{% import "components/logo.njk" as logo %}
<!-- prettier-ignore -->
{% import "components/menu.njk" as menu %}
<!-- prettier-ignore -->
{% import "components/footer.njk" as footer %}

<!-- prettier-ignore -->
{{ menu.render() }}
<div class="bg-golden-fizz">
  <main class="home">
    <div class="home_logo">
      <a class="inline-block" href="/">{{ logo.render() }}</a>
    </div>
    <div class="home_carousel">
      <!-- prettier-ignore-line -->
      {% set concepts = ["Data as Labour / Data Dignity (DaL/DD)", "Quadratic
      Voting (QV)", "Radical Antitrust", "Intersectional Social Data (ISD)",
      "Quadratic, Financing (QF)", "COST / SALSA"] %}
      <!-- prettier-ignore-line -->
      {% set columnRow = [[1, 3],[4, 3],[7, 3],[1, 4],[4, 4],[7, 4]] %}
      <!-- prettier-ignore-line -->
      {% for concept in concepts%}
      <!-- prettier-ignore-line -->
      {% set column = columnRow[loop.index0][0] %}
      <!-- prettier-ignore-line -->
      {% set row = columnRow[loop.index0][1] %}
      <a class="home_concept" href="#">
        <img
          class="w-full max-w-sm mb-4"
          src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTQgMTloLTRjLS4yNzYgMC0uNS4yMjQtLjUuNXMuMjI0LjUuNS41aDRjLjI3NiAwIC41LS4yMjQuNS0uNXMtLjIyNC0uNS0uNS0uNXptMCAyaC00Yy0uMjc2IDAtLjUuMjI0LS41LjVzLjIyNC41LjUuNWg0Yy4yNzYgMCAuNS0uMjI0LjUtLjVzLS4yMjQtLjUtLjUtLjV6bS4yNSAyaC00LjVsMS4xODguNzgyYy4xNTQuMTM4LjM4LjIxOC42MTUuMjE4aC44OTVjLjIzNCAwIC40NjEtLjA4LjYxNS0uMjE4bDEuMTg3LS43ODJ6bTMuNzUtMTMuNzk5YzAgMy41NjktMy4yMTQgNS45ODMtMy4yMTQgOC43OTloLTEuOTg5Yy0uMDAzLTEuODU4Ljg3LTMuMzg5IDEuNzIxLTQuODY3Ljc2MS0xLjMyNSAxLjQ4Mi0yLjU3NyAxLjQ4Mi0zLjkzMiAwLTIuNTkyLTIuMDc1LTMuNzcyLTQuMDAzLTMuNzcyLTEuOTI1IDAtMy45OTcgMS4xOC0zLjk5NyAzLjc3MiAwIDEuMzU1LjcyMSAyLjYwNyAxLjQ4MiAzLjkzMi44NTEgMS40NzggMS43MjUgMy4wMDkgMS43MiA0Ljg2N2gtMS45ODhjMC0yLjgxNi0zLjIxNC01LjIzLTMuMjE0LTguNzk5IDAtMy43MjMgMi45OTgtNS43NzIgNS45OTctNS43NzIgMy4wMDEgMCA2LjAwMyAyLjA1MSA2LjAwMyA1Ljc3MnptNC0uNjkxdjEuMzcyaC0yLjUzOGMuMDItLjIyMy4wMzgtLjQ0OC4wMzgtLjY4MSAwLS4yMzctLjAxNy0uNDY0LS4wMzUtLjY5aDIuNTM1em0tMTAuNjQ4LTYuNTUzdi0xLjk1N2gxLjM3MXYxLjk2NGMtLjI0Mi0uMDIyLS40ODQtLjAzNS0uNzI2LS4wMzUtLjIxNSAwLS40My4wMS0uNjQ1LjAyOHptLTMuNzQzIDEuMjk0bC0xLjA0LTEuOTQgMS4yMDgtLjY0OCAxLjAzNyAxLjkzM2MtLjQxOC4xODEtLjgyMi40MDEtMS4yMDUuNjU1em0xMC41ODYgMS43MzVsMS45NDItMS4zOTQuNzk5IDEuMTE1LTIuMDU0IDEuNDczYy0uMTkxLS40My0uNDIzLS44MjctLjY4Ny0xLjE5NHptLTMuMDEtMi4zODlsMS4wMzgtMS45MzQgMS4yMDguNjQ4LTEuMDQxIDEuOTQxYy0uMzgyLS4yNTQtLjc4Ni0uNDczLTEuMjA1LS42NTV6bS0xMC4wNjggMy41ODNsLTIuMDU0LTEuNDcyLjc5OS0xLjExNSAxLjk0MiAxLjM5M2MtLjI2NC4zNjYtLjQ5NS43NjMtLjY4NyAxLjE5NHptMTMuNzA3IDYuMjIzbDIuMzU0Ljk1NC0uNTE0IDEuMjcxLTIuNDI1LS45ODJjLjIxLS4zOTcuNDA4LS44MTIuNTg1LTEuMjQzem0tMTMuMTA4IDEuMTU1bC0yLjM1NiAxLjA2LS41NjItMS4yNTEgMi4zNC0xLjA1MmMuMTczLjQzMy4zNzEuODQ1LjU3OCAxLjI0M3ptLTEuMTc4LTMuNjc2aC0yLjUzOHYtMS4zNzJoMi41MzVjLS4wMTguMjI2LS4wMzUuNDU0LS4wMzUuNjkxIDAgLjIzMy4wMTguNDU4LjAzOC42ODF6Ii8+PC9zdmc+"
        />
        <h2 class="text-center">{{ concept }}</h2>
      </a>
      <!-- prettier-ignore-line -->
      {% endfor %}
    </div>
    <div id="socialMovementMarquee" class="home_marquee marquee">
      <div class="marquee__inner">
        <span
          class="font-display text-size-lg/display uppercase mx-6 whitespace-nowrap"
          >A Social Movement for Next-Generation Political Economies</span
        >
        <span
          class="font-display text-size-lg/display uppercase mx-6 whitespace-nowrap"
          >A Social Movement for Next-Generation Political Economies</span
        >
        <span
          class="font-display text-size-lg/display uppercase mx-6 whitespace-nowrap"
          >A Social Movement for Next-Generation Political Economies</span
        >
        <span
          class="font-display text-size-lg/display uppercase mx-6 whitespace-nowrap"
          >A Social Movement for Next-Generation Political Economies</span
        >
      </div>
    </div>
    <aside class="home_aside">
      <a class="flex-initial block m-4" href="#">
        <h2 class="font-bold">
          Distribute Emergence<br />GitxChange2: Quadratic Funding Hackathon
        </h2>
        <p>October 5 - November 1, 2020</p>
      </a>
      <div class="flex-initial border-b mx-4"></div>
      <div id="twitterMarquee" class="flex-grow mx-4 overflow-hidden marquee2">
        <div class="marquee2__inner">
          <a
            class="twitter-timeline py-4 text-size--2"
            href="https://twitter.com/RadxChange?ref_src=twsrc%5Etfw"
            data-theme="dark"
            data-chrome="noheader nofooter noborders noscrollbar transparent"
          >
            Loading tweets by @RadxChange...
          </a>
        </div>
      </div>
    </aside>
    <div class="home_banner">
      <h2
        class="mb-4 text-center font-display text-size-display leading-none uppercase"
      >
        Upgrade the source code
      </h2>
      <button class="menu-button">
        <img src="/images/ui/menu-button.svg" />
      </button>
    </div>
  </main>
</div>
<!-- prettier-ignore -->
{{ footer.render() }}
<!-- <script
  async
  src="https://platform.twitter.com/widgets.js"
  charset="utf-8"
></script> -->
<script
  type="text/javascript"
  src="https://cdn.jsdelivr.net/npm/dynamic-marquee@1"
></script>
<script type="text/javascript">
  const RxcMarquee = function ($marquee, options) {
    this.$marquee = $marquee;
    this.$message = this.$marquee.children[0];

    this.$marquee.removeChild(this.$message);

    this.marquee = new dynamicMarquee.Marquee(this.$marquee, options);
    this.control = dynamicMarquee.loop(this.marquee, []);
  };

  RxcMarquee.prototype.start = function () {
    const message = this.$message;
    this.control.update([() => message.cloneNode(true)]);
  };

  RxcMarquee.prototype.stop = function () {
    this.control.update([]);
  };

  const ResizeDetector = function (onLarge, onSmall) {
    this.onLarge = onLarge;
    this.onSmall = onSmall;
    this.wasLarge = false;
  };

  ResizeDetector.prototype.init = function () {
    const isLarge = this.isLarge();
    if (isLarge) {
      this.onLarge();
    }
    this.wasLarge = this.isLarge();

    window.addEventListener("resize", () => this.onResize());
  };

  ResizeDetector.prototype.onResize = function () {
    const isLarge = this.isLarge();
    if (this.wasLarge && !isLarge) {
      this.onSmall();
      this.wasLarge = false;
    } else if (!this.wasLarge && isLarge) {
      this.onLarge();
      this.wasLarge = true;
    }
  };

  ResizeDetector.prototype.isLarge = function () {
    return window.innerWidth >= 768;
  };

  // const $marquee = document.getElementById("socialMovementMarquee");
  // const $message = $marquee.children[0];
  // $marquee.removeChild($message);

  // const marquee = new dynamicMarquee.Marquee($marquee, { rate: -40 });
  // const control = dynamicMarquee.loop(marquee, []);

  // function startMarquee() {
  //   control.update([() => $message.cloneNode(true)]);
  // }

  // function stopMarquee() {
  //   control.update([]);
  // }

  // const socialMovementMarquee = new RxcMarquee(
  //   document.getElementById("socialMovementMarquee"),
  //   { rate: -40 }
  // );
  // const twitterMarquee = new RxcMarquee(
  //   document.getElementById("twitterMarquee"),
  //   { rate: -10, upDown: true }
  // );

  // const resizeDetector = new ResizeDetector(
  //   () => {
  //     socialMovementMarquee.start();
  //     twitterMarquee.start();
  //   },
  //   () => {
  //     socialMovementMarquee.stop();
  //     twitterMarquee.stop();
  //   }
  // );
  // resizeDetector.init();

  // let wasLarge = isLarge();
  // if (wasLarge) {
  //   socialMovementMarquee.start();
  // }
  // window.addEventListener("resize", function () {
  //   if (wasLarge && !isLarge()) {
  //     wasLarge = false;
  //     socialMovementMarquee.stop();
  //   } else if (!wasLarge && isLarge()) {
  //     wasLarge = true;
  //     socialMovementMarquee.start();
  //   }
  // });
</script>
<script>
  // prettier-ignore
  {% include "components/menu.js" %}
</script>
