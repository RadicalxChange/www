---
layout: layouts/_base.njk
homeConcepts:
  - name: Data Dignity
    href: /concepts/data-dignity/
    element: <data-dignity-animation/>
  - name: Quadratic Voting
    href: /concepts/quadratic-voting/
    element: <quadratic-voting-animation/>
  - name: Quadratic Funding
    href: /concepts/quadratic-funding/
    element: <quadratic-funding-animation/>
  - name: Partial Common Ownership
    href: /concepts/partial-common-ownership/
    element: <partial-common-ownership-animation/>
  - name: Radical Antitrust
    href: /concepts/radical-antitrust/
    element: <radical-antitrust-animation/>
  - name: Intersectional Social Identity
    href: /concepts/intersectional-social-identity/
    element: <intersectional-identity-animation/>
stuff: |
  I was part of something special. Yeah, but your scientists were so preoccupied with whether or not they could, they didn't stop to think if they should. Is this my espresso machine? Wh-what is-h-how did you get my espresso machine? What do they got in there? King Kong?

  Hey, you know how I'm, like, always trying to save the planet? Here's my chance. So you two dig up, dig up dinosaurs? Eventually, you do plan to have dinosaurs on your dinosaur tour, right? Yeah, but your scientists were so preoccupied with whether or not they could, they didn't stop to think if they should.

  Did he just throw my cat out of the window? Jaguar shark! So tell me - does it really exist? What do they got in there? King Kong? You know what? It is beets. I've crashed into a beet truck. This thing comes fully loaded. AM/FM radio, reclining bucket seats, and... power windows.

  So you two dig up, dig up dinosaurs? You really think you can fly that thing? Life finds a way. Jaguar shark! So tell me - does it really exist? Jaguar shark! So tell me - does it really exist? Eventually, you do plan to have dinosaurs on your dinosaur tour, right?

  Just my luck, no ice. God help us, we're in the hands of engineers. Life finds a way. We gotta burn the rain forest, dump toxic waste, pollute the air, and rip up the OZONE! 'Cause maybe if we screw up this planet enough, they won't want it anymore! This thing comes fully loaded. AM/FM radio, reclining bucket seats, and... power windows.

  I was part of something special. Yeah, but your scientists were so preoccupied with whether or not they could, they didn't stop to think if they should. Is this my espresso machine? Wh-what is-h-how did you get my espresso machine? What do they got in there? King Kong?

  Hey, you know how I'm, like, always trying to save the planet? Here's my chance. So you two dig up, dig up dinosaurs? Eventually, you do plan to have dinosaurs on your dinosaur tour, right? Yeah, but your scientists were so preoccupied with whether or not they could, they didn't stop to think if they should.

  Did he just throw my cat out of the window? Jaguar shark! So tell me - does it really exist? What do they got in there? King Kong? You know what? It is beets. I've crashed into a beet truck. This thing comes fully loaded. AM/FM radio, reclining bucket seats, and... power windows.

  So you two dig up, dig up dinosaurs? You really think you can fly that thing? Life finds a way. Jaguar shark! So tell me - does it really exist? Jaguar shark! So tell me - does it really exist? Eventually, you do plan to have dinosaurs on your dinosaur tour, right?

  Just my luck, no ice. God help us, we're in the hands of engineers. Life finds a way. We gotta burn the rain forest, dump toxic waste, pollute the air, and rip up the OZONE! 'Cause maybe if we screw up this planet enough, they won't want it anymore! This thing comes fully loaded. AM/FM radio, reclining bucket seats, and... power windows.
---

<!-- prettier-ignore -->
{% import "components/logo.njk" as logo %}
<!-- prettier-ignore -->
{% import "components/menu.njk" as menu %}
<!-- prettier-ignore -->
{% import "components/footer.njk" as footer %}

<!-- prettier-ignore -->
{{ menu.render() }}
<div
  class="relative grid grid-cols-layout-4 lg:grid-cols-layout-12 grid-rows-auto/1fr/auto content-between min-h-screen bg-golden-fizz"
>
  <header
    class="col-span-columns lg:col-start-column-1 lg:col-end-gutter-9 mt-margin lg:mt-lg/margin mb-12 lg:mb-8"
  >
    <h1
      class="font-display text-size-display lg:text-size-lg/display uppercase"
    >
      <a href="/">
        <span class="inline lg:hidden"
          >RXC is a social movement for next generation political
          economies</span
        >
        {{ logo.render(classes="hidden lg:inline-block align-top") }}
      </a>
    </h1>
  </header>
  <div
    id="concepts"
    class="col-span-columns lg:col-start-column-1 lg:col-end-gutter-9 self-center grid grid-cols-1 lg:grid-cols-3 gap-x-8 gap-y-16 lg:gap-y-12 mb-16 lg:mb-8"
  >
    {% for concept in homeConcepts%}
    <a
      class="group flex flex-col items-center justify-between"
      href="{{ concept.href }}"
    >
      <div></div>
      <div class="w-full max-w-sm">
        {{ concept.element | safe }}
      </div>
      <h2
        class="lg:h-line-2 mt-6 text-center text-size-2 lg:text-size-0 group-hover:thick-link"
      >
        {{ concept.name }}
      </h2>
    </a>
    {% endfor %}
  </div>
  <div
    class="sticky bottom-0 hidden lg:block col-start-margin-1 col-end-column-10 w-full pt-2 bg-white font-display text-size-lg/display"
  >
    <div class="message-marquee">
      <div class="marquee__inner">
        <span class="uppercase mx-6 whitespace-nowrap"
          >A Social Movement for Next-Generation Political Economies</span
        >
        <span aria-hidden="true" class="uppercase mx-6 whitespace-nowrap"
          >A Social Movement for Next-Generation Political Economies</span
        >
        <span aria-hidden="true" class="uppercase mx-6 whitespace-nowrap"
          >A Social Movement for Next-Generation Political Economies</span
        >
        <span aria-hidden="true" class="uppercase mx-6 whitespace-nowrap"
          >A Social Movement for Next-Generation Political Economies</span
        >
      </div>
    </div>
  </div>
  <aside
    class="lg:relative col-span-full lg:col-start-column-10 lg:col-end-last lg:row-span-full order-first lg:order-none"
  >
    <div
      class="lg:absolute lg:top-0 lg:left-0 lg:flex lg:flex-col lg:w-full lg:h-full bg-black text-white"
    >
      <a
        class="flex-initial block pt-margin lg:pt-lg/margin pb-margin lg:pb-4 px-4 lg:px-6 text-size-1 lg:text-size-0 blink"
        href="#tv"
      >
        <h2 class="font-bold">RxC TV</h2>
        <p>Streaming now</p>
      </a>
      <div class="flex-initial hidden lg:block border-b mx-6"></div>
      <div
        id="twitter-marquee"
        class="flex-grow hidden lg:block mx-4 overflow-hidden"
      >
        <div class="marquee__inner">
          <a
            class="twitter-timeline py-4 text-size--2"
            href="https://twitter.com/RadxChange?ref_src=twsrc%5Etfw"
            data-theme="dark"
            data-chrome="noheader nofooter noborders noscrollbar transparent"
          >
            <span class="px-2">Loading tweets by @RadxChange...</span>
          </a>
        </div>
      </div>
    </div>
  </aside>
</div>
<!-- prettier-ignore -->
{{ footer.render() }}
<template id="rxcTvTemplate">
  <section
    class="z-50 fixed top-0 left-0 grid grid-cols-layout-4 lg:grid-cols-layout-12 w-full h-screen bg-black lg:bg-transparent overflow-y-auto"
  >
    <div
      class="col-span-columns lg:col-start-column-1 lg:col-end-gutter-9 lg:px-4 pt-margin pb-48 lg:pt-28 lg:pb-lg/ymargin"
    >
      <div class="hidden lg:flex lg:justify-end mb-3">
        <a href="#">
          <img
            width="35"
            height="33"
            src="/images/ui/close-circle.svg"
            alt="close"
          />
        </a>
      </div>
      <div
        class="flex flex-col xl:flex-row space-y-3 xl:space-y-0 xl:space-x-3"
      >
        <div class="relative xl:w-2/3 lg:text-size--4">
          <div
            data-rxctv-info
            class="z-10 absolute top-0 left-0 w-full flex flex-col lg:rounded-tvinfo bg-black text-white transition-height duration-700"
          >
            <div
              class="flex-none flex items-center justify-between h-line-1 lg:h-line-3 lg:px-6"
            >
              <h1 class="truncate mr-2">
                Land Value: Past, Present, and Future, Land Value: Past,
                Present, and Future, Land Value: Past, Present, and Future, Land
                Value: Past, Present, and Future
              </h1>
              <button data-rxctv-infobtn class="hidden lg:block uppercase">
                Info
              </button>
            </div>
            <div
              class="hidden lg:block flex-grow max-h-0 open:max-h-none lg:px-6 open:mb-6 overflow-y-auto"
            >
              <div class="markdown markdown-xs">
                {{ stuff | markdown | safe }}
              </div>
            </div>
          </div>
          <div class="pt-line-1 lg:pt-line-3 mt-3">
            <!--<div class="twitch-container">
            <iframe
              src="https://player.twitch.tv/?channel=radicalxchangepathos&parent=localhost"
              frameborder="0"
              allowfullscreen="true"
              scrolling="no"
              class="bg-black lg:rounded-twitch"
            ></iframe>
          </div>-->
            <div class="youtube-container">
              <iframe
                src="https://www.youtube.com/embed/pA96m95T3NA"
                frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen
                class="bg-black lg:rounded-twitch"
              ></iframe>
            </div>
          </div>
        </div>
        <div class="xl:w-1/3">
          <iframe
            src="https://app.sli.do/event/nsiukl2x"
            height="100%"
            width="100%"
            class="slido-iframe bg-black lg:rounded-slido"
          ></iframe>
        </div>
        <div class="block lg:hidden bg-black text-white">
          <div class="markdown markdown-sm">
            {{ stuff | markdown | safe }}
          </div>
        </div>
      </div>
    </div>
    <div
      class="fixed bottom-0 left-0 flex justify-center lg:hidden w-full pt-margin pb-bottom-button bg-black"
    >
      <a
        class="py-3 px-8 bg-black rounded-oval text-white text-size--1 uppercase"
        href="#"
      >
        Close
      </a>
    </div>
  </section>
</template>
<script>
  const RxcTv = function () {
    this.$template = document.getElementById(
      "rxcTvTemplate"
    ).content.firstElementChild;

    this.$root = null;
    this.$info = null;
    this.$infobtn = null;

    this.toggleInfo = this.toggleInfo.bind(this);
  };

  RxcTv.prototype.init = function () {
    window.addEventListener("hashchange", (event) => {
      if (new URL(event.newURL).hash === "#tv") {
        this.open();
      } else {
        this.close();
      }
    });

    if (location.hash === "#tv") {
      this.open();
    } else {
      if (window.innerWidth >= 768) {
        const data = this.loadData();
        if (!data || !data.isClosed) {
          location = "#tv";
        }
      }
    }
  };

  RxcTv.prototype.loadData = function () {
    const maybeItem = sessionStorage.getItem("rxcTv");
    if (maybeItem) {
      return JSON.parse(maybeItem);
    } else {
      return undefined;
    }
  };

  RxcTv.prototype.storeData = function (data) {
    sessionStorage.setItem("rxcTv", JSON.stringify(data));
  };

  RxcTv.prototype.open = function () {
    this.$root = this.$template.cloneNode(true);
    this.$info = this.$root.querySelector("[data-rxctv-info]");
    this.$infobtn = this.$root.querySelector("[data-rxctv-infobtn]");
    this.$infobtn.addEventListener("click", this.toggleInfo);

    document.body.insertBefore(this.$root, document.body.firstChild);
    bodyScrollLock.disableBodyScroll(this.$root);

    this.storeData({ isClosed: false });
  };

  RxcTv.prototype.close = function () {
    bodyScrollLock.enableBodyScroll(this.$root);
    this.$root.remove();

    this.$infobtn.removeEventListener("click", this.toggleInfo);
    this.$infobtn = null;
    this.$info = null;
    this.$root = null;

    this.storeData({ isClosed: true });
  };

  RxcTv.prototype.toggleInfo = function () {
    this.$info.classList.toggle("open");
    this.$info.classList.toggle("lg:h-full");
    if (this.$info.classList.contains("open")) {
      this.$infobtn.innerText = "Close";
    } else {
      this.$infobtn.innerText = "Info";
    }
  };

  const rxcTV = new RxcTv();
  rxcTV.init();
</script>
<script>
  const Animation = function ($root) {
    this.$root = $root;

    this.onMouseEnter = this._onMouseEnter.bind(this);
    this.onMouseLeave = this._onMouseLeave.bind(this);
    this.onIntersect = this._onIntersect.bind(this);
    this.observer = new IntersectionObserver(this.onIntersect, {
      threshold: [0.5, 1],
    });
  };

  Animation.prototype.init = function () {
    this.$root.addEventListener("mouseenter", this.onMouseEnter);
    this.$root.addEventListener("mouseleave", this.onMouseLeave);
    this.observer.observe(this.$root);
  };

  Animation.prototype._onIntersect = function (entries) {
    if (window.innerWidth >= 768) {
      return;
    }
    entries.forEach((entry) => {
      if (entry.intersectionRatio <= 0.5) {
        this.animate(false);
      } else if (entry.intersectionRatio === 1) {
        this.animate(true);
      }
    });
  };

  Animation.prototype._onMouseEnter = function () {
    if (window.innerWidth < 768) {
      return;
    }
    this.animate(true);
  };

  Animation.prototype._onMouseLeave = function () {
    if (window.innerWidth < 768) {
      return;
    }
    this.animate(false);
  };

  Animation.prototype.animate = function (state) {
    if (state) {
      this.$root.children[1].children[0].setAttribute("on", true);
    } else {
      this.$root.children[1].children[0].removeAttribute("on");
    }
  };

  const $concepts = document.getElementById("concepts").children;
  for (const $concept of $concepts) {
    const animation = new Animation($concept);
    animation.init();
  }
</script>
<script>
  window.twttr = (function (d, s, id) {
    var js,
      fjs = d.getElementsByTagName(s)[0],
      t = window.twttr || {};
    if (d.getElementById(id)) return t;
    js = d.createElement(s);
    js.id = id;
    js.src = "https://platform.twitter.com/widgets.js";
    fjs.parentNode.insertBefore(js, fjs);

    t._e = [];
    t.ready = function (f) {
      t._e.push(f);
    };

    return t;
  })(document, "script", "twitter-wjs");

  twttr.ready(function (twttr) {
    twttr.events.bind("rendered", function (event) {
      setTimeout(() => {
        document
          .getElementById("twitter-marquee")
          .classList.add("twitter-marquee");
      }, 500);
    });
  });
</script>
<script>
  // prettier-ignore
  {% include "components/menu.js" %}
</script>
<script src="/animations/data-dignity.js"></script>
<script src="/animations/quadratic-voting.js"></script>
<script src="/animations/quadratic-funding.js"></script>
<script src="/animations/partial-common-ownership.js"></script>
<script src="/animations/radical-antitrust.js"></script>
<script src="/animations/intersectional-identity.js"></script>
